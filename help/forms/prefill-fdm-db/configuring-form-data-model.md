---
title: フォームデータモデルの設定
description: RDBMS データソースに基づくフォームデータモデルの作成
feature: Adaptive Forms
version: 6.4,6.5
kt: 5812
thumbnail: kt-5812.jpg
topic: Development
role: Developer
level: Beginner
exl-id: 5fa4638f-9faa-40e0-a20d-fdde3dbb528a
source-git-commit: bd41cd9d64253413e793479b5ba900c8e01c0eab
workflow-type: tm+mt
source-wordcount: '498'
ht-degree: 6%

---

# フォームデータモデルの設定

## Apache Sling 接続プールに入れられたデータソース

RDBMS でバックアップされたフォームデータモデルを作成する最初の手順は、Apache Sling 接続プールに入れられたデータソースを設定することです。 データソースを設定するには、次の手順に従います。

* ブラウザーで次の場所を指定します。 [configMgr](http://localhost:4502/system/console/configMgr)
* を検索 **Apache Sling 接続プールに入れられたデータソース**
* 新しいエントリを追加し、スクリーンショットに示す値を指定します。
* ![data-source](assets/data-source.png)
* 変更を保存します。

>[!NOTE]
>JDBC 接続 URI、ユーザー名、パスワードは、MySQL データベース設定に応じて変わります。


## フォームデータモデルの作成

* ブラウザーで次の場所を指定します。 [データ統合](http://localhost:4502/aem/forms.html/content/dam/formsanddocuments-fdm)
* クリック _作成_->_フォームデータモデル_
* フォームデータモデルに意味のある名前とタイトルを指定します（例： ）。 **従業員**
* 「_次へ_」をクリックします。
* 前のセクション（フォーラム）で作成したデータソースを選択します
* クリック _作成_-> 編集をクリックして、新しく作成したフォームデータモデルを編集モードで開きます
* を展開します。 _フォーラム_ ノードを開き、従業員スキーマを確認します。 employee ノードを展開して、2 つのテーブルを表示します。

## モデルにエンティティを追加

* 従業員ノードが展開されていることを確認します。
* 新しいエンティティと受益者エンティティを選択し、 _選択項目を追加_

## エンティティに読み取りサービスを追加

* すべてのエンティティを選択
* クリック _プロパティを編集_
* 「読み取りサービス」ドロップダウンリストから「 get 」を選択します
* 「 + 」アイコンをクリックして、パラメーターを get サービスに追加します。
* スクリーンショットに示す値を指定
* ![get-service](assets/get-service.png)
>[!NOTE]
> get サービスは、エンティティの empID 列にマッピングされた値を期待します。この値を渡す方法は複数あり、このチュートリアルでは、empID と呼ばれる要求パラメータ empID を通じて empID を渡します。
* クリック _完了_ get サービスの引数を保存するには、以下を実行します。
* クリック _完了_ フォームデータモデルの変更を保存するには

## 2 エンティティ間に関連付けを追加

データベースエンティティ間で定義された関連付けは、フォームデータモデルでは自動的に作成されません。 エンティティ間の関連付けは、フォームデータモデルエディターを使用して定義する必要があります。 すべてのエンティティが 1 つ以上の受益者を持つことができ、我々は、新興者と受益者の間の 1 対多の関連を定義する必要があります。
以下の手順で、1 対多の関連付けを作成するプロセスを説明します

* エンティティを選択し、 _関連付けを追加_
* 下のスクリーンショットに示すように、関連付けと他のプロパティに意味のあるタイトルと識別子を指定します。
   ![関連団体](assets/association-entities-1.png)

* をクリックします。 _編集_ 「引数」セクションの下のアイコン

* このスクリーンショットに示すように値を指定
* ![association-2](assets/association-entities.png)
* **受益者の empID 列と新しいエンティティを使用して、2 つのエンティティをリンクします。**
* クリック _完了_ 変更を保存するには

## フォームデータモデルのテスト

フォームデータモデルに **_get_** empID を受け入れて、newhire とその受益者の詳細を返すサービス。 get サービスをテストするには、次の手順に従ってください。

* すべてのエンティティを選択
* クリック _モデルオブジェクトのテスト_
* 有効な empID を入力し、をクリックします。 _テスト_
* 以下のスクリーンショットに示すように、結果が得られます
* ![test-fdm](assets/test-form-data-model.png)

## 次の手順

[URL から empID を取得する](./get-request-parameter.md)