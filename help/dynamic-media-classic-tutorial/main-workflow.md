---
title: Dynamic Media Classic のメインワークフローとアセットのプレビュー
description: 作成（およびアップロード）、オーサリング（および公開）、配信の 3 つの手順を含む、Dynamic Media Classic の主なワークフローについて説明します。 Dynamic Media Classic のアセットをプレビューする方法について説明します。
feature: Dynamic Media Classic
topic: Content Management
role: User
level: Beginner
doc-type: Tutorial
exl-id: 04aacd81-bbb2-4742-9306-f0eabc665a41
duration: 569
source-git-commit: f4c621f3a9caa8c2c64b8323312343fe421a5aee
workflow-type: tm+mt
source-wordcount: '2658'
ht-degree: 100%

---

# Dynamic Media Classic のメインワークフローとアセットのプレビュー {#main-workflow}

Dynamic Media では、作成（およびアップロード）、オーサリング（および公開）、配信のワークフロープロセスがサポートされています。 まずアセットをアップロードし、画像セットの作成などのアセット操作を行ってから、最後に公開してアセットをライブにします。 一部のワークフローでは、ビルド手順はオプションです。 例えば、画像の動的サイズ変更とズームのみを行う場合や、ストリーミング用にビデオを変換して公開する場合などは、ビルド手順を実行する必要はありません。

![画像](assets/main-workflow/create-author-deliver.jpg)

Dynamic Media Classic ソリューションのワークフローは、次の 3 つの主な手順で構成されます。

1. ソースコンテンツの作成（およびアップロード）
2. アセットのオーサリング（および公開）
3. アセットの配信

## 手順 1：作成（およびアップロード）

これがワークフローの開始です。この手順では、使用しているワークフローに合ったソースコンテンツを収集または作成し、Dynamic Media Classic にアップロードします。 画像、ビデオ、フォントの複数のファイルタイプがサポートされ、PDF、Adobe Illustrator、Adobe InDesign に対しても同様です。

[サポートされているファイルタイプ](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/upload-publish/uploading-files.html?lang=ja#supported-asset-file-formats)の完全なリストを参照してください。

ソースコンテンツは、様々な方法でアップロードできます。

- デスクトップまたはローカルネットワークから直接。 （[詳細](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/upload-publish/uploading-files.html?lang=ja#upload-files-using-sps-desktop-application)）。
- Dynamic Media Classic FTP サーバーから。 （[詳細](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/upload-publish/uploading-files.html?lang=ja#upload-files-using-via-ftp)）。

デフォルトのモードは、デスクトップからです。ローカルネットワーク上のファイルを参照し、アップロードを開始します。

![画像](assets/main-workflow/upload.jpg)

>[!TIP]
>
>フォルダーを手動で追加しないでください。 代わりに、FTP からアップロードを実行し、**サブフォルダーを含める**&#x200B;オプションを使用して、Dynamic Media Classic 内にフォルダー構造を再作成します。

2 つの最も重要なアップロードオプションは、デフォルトで有効になっています。以前に説明した「**公開用にマーク**」と「**上書き**」です。上書きとは、アップロード中のファイルがシステム内に既に存在するファイルと同じ名前の場合、新しいファイルが既存のバージョンに置き換わるという意味です。 このオプションをオフにした場合、ファイルがアップロードされない可能性があります。

### 画像のアップロード時の上書きオプション

「画像を上書き」オプションには、会社全体に対して設定できる 4 つのバリエーションがあり、多くの場合、これらは誤解されています。 つまり、同じ名前のアセットがより頻繁に上書きされるようにルールを設定するか、上書きの頻度を少なくするかです（この場合、新しい画像の名前に「 -1」または「 -2」が追加されます）。

- **現在のフォルダーでベースの画像名と拡張子が同じファイルを上書き** - 
このオプションは最も厳格な置換規則です。置き換え画像を元の画像と同じフォルダーにアップロードし、置き換え画像と元の画像のファイル名拡張子が同じになっている必要があります。これらの要件が満たされない場合は、重複する画像が作成されます。

- **現在のフォルダーにある、ベースが同じアセット名を拡張子に関わらず上書き**。
置換画像を元の画像と同じフォルダーにアップロードする必要がありますが、ファイル名の拡張子は元の画像と異なることができます。例えば、chair.tif は chair.jpg を置き換えます。

- **任意のフォルダーにある、ベース名と拡張子が同じファイルを上書き**。
置換画像のファイル名拡張子が元の画像と同じである必要があります（例えば、chair.jpg は chair.tif ではなく chair.jpg を置き換える必要があります）。 ただし、置換画像を、元の画像と別のフォルダーにアップロードできます。更新された画像は新しいフォルダーにあり、元の場所のファイルはなくなります。

- **任意のフォルダーで、拡張子に関わらずベース名が同じファイルを上書き**。
このオプションは、最も包括的な置換ルールです。 置換画像を、元の画像と別のフォルダーにアップロードでき、ファイル名拡張子が異なるファイルをアップロードして、元のファイルと置換することができます。元のファイルが別のフォルダーにある場合、置換画像は、アップロード先の新しいフォルダーに存在します。

詳しくは、[画像を上書きオプション](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/setup/application-setup.html?lang=ja#using-the-overwrite-images-option)を参照してください。

必須ではありませんが、上記の 2 つの方法のいずれかを使用してアップロードする際に、特定のアップロードに対して、ジョブオプションを指定できます。例えば、繰り返しアップロードのスケジュール設定、アップロード時の切り抜きオプションの設定などが可能です。 これらは一部のワークフローで役立つ可能性があるので、お客様のワークフローで使用できるかどうかを検討する価値があります。

詳しくは、[ジョブオプション](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/upload-publish/uploading-files.html?lang=ja#upload-options)をご覧ください。

Dynamic Media Classic はシステムにまだ存在しないコンテンツを処理できないので、アップロードはどのワークフローでも最初に必要な手順です。アップロード時に、バックグラウンドで、アップロードされたすべてのアセットが一元化された Dynamic Media Classic データベースに登録され、ID が割り当てられてストレージにコピーされます。また、画像ファイルは、動的なサイズ変更やズームが可能な形式に変換され、ビデオファイルは MP4 web に対応する形式に変換されます。

### 概念：画像を Dynamic Media Classic にアップロードすると、画像は次のようになります。

任意の種類の画像を Dynamic Media Classic にアップロードすると、ピラミッド TIFF（P-TIFF）と呼ばれるメイン画像形式に変換されます。PTIFF は、レイヤー化された TIFF ビットマップイメージの形式に似ていますが、異なるレイヤーではなく、同じイメージの複数のサイズ（解像度）がファイルに含まれる点が異なります。

![画像](assets/main-workflow/pyramid-p-tiff.png)

画像が変換されると、Dynamic Media Classic は画像のフルサイズの「スナップショット」を取り、その半分のサイズで保存し、さらに半分に縮小して保存します。その後、元のサイズの倍数で満たされるまで繰り返して保存します。例えば、2000 ピクセルの PTIFF には、同じファイル内で 1000 ピクセル、500 ピクセル、250 ピクセル、125 ピクセルのサイズ（およびそれより小さいサイズ）があります。PTIFF ファイルは、Dynamic Media Classic の「メイン画像」と呼ばれる形式です。

特定のサイズの画像を要求する場合、PTIFF を作成すると、Dynamic Media Classic 用 Image Server で次に大きいサイズを素早く見つけて縮小できます。例えば、2000 ピクセルの画像をアップロードして 100 ピクセルの画像をリクエストした場合、Dynamic Media Classic は 2000 から 100 ピクセルに拡大するのではなく、125 ピクセルのバージョンを見つけ、100 ピクセルに縮小します。これにより、操作が非常に速くなります。また、画像をズームするときに、ズームビューアは最大解像度の画像全体ではなく、ズーム中の画像のタイルのみを要求できます。このようにして、PTIFF ファイルのメイン画像形式は、動的サイズ変更とズームの両方をサポートします。

同様に、メインソースビデオを Dynamic Media Classic にアップロードできます。Dynamic Media Classic をアップロードすると、自動的にサイズを変更して MP4 web に対応する形式に変換できます。

### アップロードする画像の最適サイズを決定するための法則

**必要な最大サイズの画像をアップロードします。**

- ズームする必要がある場合は、1500～2500 ピクセルの長辺が長い解像度の画像をアップロードします。どのぐらい詳細な情報を提供するのか、ソース画像の品質、表示する製品のサイズなどを考慮します。例えば、小さな指輪用に 1000 ピクセルの画像をアップロードし、ルームシーン全体に 3000 ピクセルの画像をアップロードします。
- ズームする必要がない場合は、表示されるとおりのサイズでアップロードします。例えば、ページに配置するロゴやスプラッシュ／バナーの画像がある場合は、1 : 1 のサイズでアップロードし、そのサイズで正確に呼び出します。

**Dynamic Media Classic にアップロードする前に、画像をアップサンプリングしたり拡大したりしないでください。**&#x200B;例えば、2000 ピクセルの画像にするために、小さい画像を拡大しないでください。見栄えが悪くなります。アップロードする前に、できるだけ完璧に近い画像に仕上げるようにします。

**ズームには最小サイズはありませんが、デフォルトでは 100% を超えるズームは行われません。** 画像が小さすぎる場合は、全くズームしないか、小さな量だけズームして、見た目が悪くなるのを防ぎます。

**画像サイズには最小限の制限はありませんが、大きな画像をアップロードすることはお勧めしません。**&#x200B;大きな画像は 4000 ピクセル以上と見なします。このサイズの画像をアップロードすると、画像内の埃の粒や毛髪などの潜在的に不備な点が表示される場合があります。このような画像を使用すると、Dynamic Media Classic サーバーの容量が増えるので、契約したストレージの上限を超える可能性があります。

詳しくは、[ファイルのアップロード](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/upload-publish/uploading-files.html?lang=ja#uploading-your-files)を参照してください。

## 手順 2：オーサリング（および公開）

コンテンツを作成してアップロードした後、1 つ以上のサブワークフローを実行して、アップロードしたアセットから新しいリッチメディアアセットを作成します。これには、画像、スウォッチ、スピン、混在メディアセットなど、様々な種類のセットコレクションや、テンプレートが含まれます。また、ビデオも含まれています。後で、各タイプの画像コレクションセットとビデオリッチメディアについて詳しく説明します。ただし、ほとんどの場合は、最初は 1 つ以上のアセットを選択し（つまりアセットが選択されていない状態から開始し）、作成するアセットのタイプを選択します。例えば、メイン画像とその画像のいくつかのビューを選択し、同じ製品の代替ビューのコレクションである画像セットを作成する場合に選択します。

>[!IMPORTANT]
>
>すべてのアセットが公開用にマークされていることを確認します。デフォルトでは、すべてのアセットがアップロード時に自動的に公開用としてマークされますが、アップロードされたコンテンツから新しく作成したアセットも公開用としてマークする必要があります。

新しいアセットを構築したら、公開ジョブを実行します。手動で実行するか、自動的に実行される公開ジョブをスケジュールすることができます。公開では、すべてのコンテンツが、非公開の Dynamic Media Classic の領域から同等の公開サーバー領域にコピーされます。Dynamic Media 公開ジョブの製品は、公開された各アセットの一意の URL です。

公開先のサーバーは、コンテンツのタイプとワークフローに応じて異なります。 例えば、すべての画像が Image Server に送信され、ビデオが FMS サーバーにストリーミングされます。 便宜上、「公開」は 1 つのサーバーに対する 1 つのイベントとします。

公開を行うと、自分のコンテンツだけでなく、公開用にマークされたすべてのコンテンツが公開されます。 通常、公開は個々のユーザーが実行するのではなく、1 人の管理者がメンバー全員に代わって実行します。 管理者は、必要に応じて公開したり、毎日、毎週、または 10 分ごとに自動的に公開するジョブを設定したりできます。 ビジネスに適したスケジュールに応じて公開することが可能です。

>[!TIP]
>
>公開ジョブを自動化し、毎日午前 0:00 などの夜遅い時間に実行するように完全公開をスケジュールします。

### 概念：Dynamic Media Classic URL について

Dynamic Media Classic ワークフローの最終的な成果物は、画像セットかアダプティブビデオセットかに関わらず、アセットを指す URL です。 これらの URL は非常に予測可能で、同じパターンに従います。 画像の場合、それぞれが P-TIFF マスター画像から生成されます。

以下は、画像の URL の構文といくつかの例です。

![画像](assets/main-workflow/dmc-url.jpg)

URL では、疑問符の左側にあるすべてが特定の画像への仮想パスになります。 疑問符の右側にあるのは、画像の処理方法の指示である Image Server 修飾子です。 複数の修飾子がある場合は、アンパサンドで区切られます。

最初の例では、画像「Backpack_A」への仮想パスは `http://sample.scene7.com/is/image/s7train/BackpackA` です。Image Server 修飾子は、画像の幅を 250 ピクセル（wid=250）にサイズ変更し、Lanczos 補間アルゴリズムを使用して画像を再度サンプリングします。このアルゴリズムでは、サイズ変更に応じてシャープニングが適用されます（resMode=sharp2）。

2 つ目の例では、「画像プリセット」と呼ばれるものを、 $!_template300$ と示されている同じ Backpack_A 画像に適用します。式の両側にある $ 記号は、画像プリセット（パッケージ化された一連の画像修飾子）が画像に適用されていることを示します。

Dynamic Media Classic URL の組み合わせ方法を理解したら、プログラムを使用して URL を変更する方法と、URL をサイトおよびバックエンドシステムに統合する方法を理解します。

### 概念：キャッシュ遅延について

新しくアップロードおよび公開されたアセットはすぐに表示されますが、更新されたアセットには 10 時間のキャッシュ遅延が生じる場合があります。 デフォルトでは、すべての公開済みアセットの期限は、最低 10 時間です。 この「最低」とは、誰かが画像を表示するたびに、時計のカウント（誰もその画像を表示していない状態で 10 時間が経過すると期限切れとなる）が開始するためです。この 10 時間は、アセットの「有効期間」です。 そのアセットのキャッシュの有効期限が切れると、更新されたバージョンを配信できます。

このことは通常、誤りが発生し、以前に公開されたバージョンと画像／アセットの名前が同じにもかかわらず、画像に問題がある場合を除いて問題にはなりません。例えば、誤って低解像度のバージョンをアップロードした場合や、アートディレクターが画像を承認しなかった場合などです。 この場合は元画像を呼び出して、同じアセット ID を使用する新しいバージョンに置き換えます。

[更新が必要な URL のキャッシュの手動による消去](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/assets/dynamicmedia/invalidate-cdn-cache-dynamic-media.html?lang=ja)の詳細を参照してください。

>[!TIP]
>
>キャッシュ遅延の問題を回避するには、必ず夕方、1 日、2 週間など、事前に作業を進めます。 内部の関係者が作業内容を証明できるように、公開前に QA／受け入れに時間を設けます。 前日の夜に作業しても、そこで変更を加えて再公開できます。 午前中に 10 時間が経過し、キャッシュが正しい画像で更新されます。

- 詳細情報：[公開ジョブの作成](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/upload-publish/publishing-files.html?lang=ja#creating-a-publish-job)。
- 詳しくは、[公開](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/upload-publish/publishing-files.html?lang=ja)を参照してください。

## 手順 3：配信

Dynamic Media Classic ワークフローの最終成果物は、アセットを指す URL であることに注意してください。 この URL は、個々の画像、画像セット、スピンセット、またはその他の画像セットのコレクションやビデオを指す場合があります。 その URL を取得し、それを使用して何らかの処理（HTMLを編集して `<IMG>` タグが現在のサイトから取得した画像ではなく Dynamic Media Classic の画像を指すように HTML を編集するなど）を行う必要があります。

配信手順では、アセットを表示する web サイト、モバイルアプリ、メールキャンペーンまたはその他のデジタルタッチポイントにこれらの URL を統合する必要があります。

画像の Dynamic Media Classic URL を web サイトに統合する例

![画像](assets/main-workflow/example-url-1.png)

Dynamic Media Classic 固有の唯一の要素は、赤で示された URL です。

IT チームや統合パートナーは、コードの書き込みと変更を主導して、Dynamic Media Classic の URL をサイトに統合できます。 Adobe には、技術、クリエイティブ、一般のガイダンスを提供してこの作業をサポートするコンサルティングチームがいます。

ズームビューアや代替ビューとズームを組み合わせたビューアなど、より複雑なソリューションの場合、通常、URL は Dynamic Media Classic がホストするビューアを指し、またその URL 内ではアセット ID への参照となります。

新しいポップアップウィンドウでビューアの画像セットを開くリンクの例（赤）

![画像](assets/main-workflow/example-url-2.png)

>[!IMPORTANT]
>
>Dynamic Media Classicの URL を web サイト、モバイルアプリ、メール、その他のデジタルタッチポイントに統合する必要があります（Dynamic Media Classic では統合できません）。

## アセットのプレビュー

アップロード済み、作成中または編集中のアセットをプレビューして、顧客が表示したときに最適に表示されるようにしたいことがあるでしょう。 そのために「プレビュー」ウィンドウにアクセスするには、アセットのサムネール上、「**パネルを参照または作成**」の上部、または&#x200B;**ファイル／プレビュー**&#x200B;に移動して、「**プレビュー**」ボタンをクリックします。「ブラウザー」ウィンドウでは、現在パネルに存在するアセット（画像、ビデオ、画像セットなどの作成済みアセット）をプレビューします。

### 動的サイズプレビュー（画像プリセット）

複数のサイズで画像をプレビューするには、 **サイズ** プレビューを使用します。 使用可能な画像プリセットのリストが読み込まれます。 後で説明しますが、画像プリセットは特定の量のシャープニングと画質を持つサイズで画像を読み込むための「レシピ」と考えることができます。

### ズームのプレビュー

また、「**ズーム**」オプションを使用して、含まれる様々なズームビューアに基づく多数の事前定義済みズームプリセットの 1 つで、画像をプレビューすることもできます。

詳細情報：[Assets のプレビュー](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/managing-assets/previewing-asset.html?lang=ja)。
