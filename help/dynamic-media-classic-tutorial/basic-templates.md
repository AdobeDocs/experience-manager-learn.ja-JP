---
title: 基本テンプレートの概要
description: Dynamic Media Classicの基本テンプレート、Image Server から呼び出され、画像とレンダリングされたテキストで構成される画像ベースのテンプレートについて説明します。 テンプレートは、テンプレートが公開された後、URL を使用して動的に変更できます。 PhotoshopPSDをDynamic Media Classicにアップロードして、テンプレートの基礎として使用する方法を学びます。 画像レイヤーで構成されるシンプルなマーチャンダイジングの基本テンプレートを作成します。 テキストレイヤーを追加し、パラメータを使用して変数化させる。 テンプレート URL を作成し、Web ブラウザーを使用して画像を動的に操作します。
feature: Dynamic Media Classic
doc-type: tutorial
topics: development, authoring, configuring
audience: all
activity: use
topic: Content Management
role: User
level: Beginner
exl-id: d4e16b45-0095-44b4-8c16-89adc15e0cf9
source-git-commit: f0c6e6cd09c1a2944de667d9f14a2d87d3e2fe1d
workflow-type: tm+mt
source-wordcount: '6260'
ht-degree: 0%

---

# 基本テンプレートの概要 {#basic-templates}

Dynamic Media Classicの用語では、テンプレートとは、テンプレートが公開された後に、URL を使用して動的に変更できるドキュメントです。 Dynamic Media Classicは、Image Server から呼び出され、画像とレンダリングされたテキストで構成される、基本的なテンプレートである画像ベースのテンプレートを提供します。

テンプレートの最も強力な側面の 1 つは、直接統合ポイントを持ち、それらをデータベースに結び付けることです。 したがって、画像を提供し、サイズを変更できるだけでなく、データベースに問い合わせて新規または販売品目を見つけ、それを画像上にオーバーレイとして表示することができます。 項目の説明を求め、選択したフォントやレイアウトでラベルとして表示させることができます。 可能性は無限です。

基本テンプレートは、単純なものから複雑なものまで、様々な方法で実装できます。 次に例を示します。

- 基本的なマーチャンダイジング。 その商品が送料無料の場合は、「送料無料」などのラベルを使用します。 これらのラベルは、Photoshopの商品チームが設定し、Web では、画像に適用するタイミングを知るロジックを使用します。
- 高度なマーチャンダイジング。 各テンプレートには複数の変数があり、同時に複数のオプションを表示できます。 データベース、在庫およびビジネス・ルールを使用して、製品を「ジャストイン」、「クリアランス」、「売り切れ」のいつ表示するかを決定します。 また、製品の背後に透明度を使用して、異なる部屋などの異なる背景に表示することもできます。 同じテンプレートやアセットを製品の詳細ページで再利用して、同じ製品の大きいバージョンやズーム可能なバージョンを様々な背景で表示することができます。

Dynamic Media Classicは、これらのテンプレートベースのアプリケーションの視覚的な部分のみを提供することを理解することが重要です。 Dynamic Media Classicの会社または統合パートナーは、アプリケーションを作成するために、ビジネスルール、データベース、開発スキルを提供する必要があります。 「組み込み」テンプレートアプリケーションはありません。デザイナーがDynamic Media Classicでテンプレートを設定し、開発者が URL 呼び出しを使用してテンプレート内の変数を変更します。

チュートリアルのこの節を最後まで学習すると、次の方法がわかります。

- PhotoshopPSDをDynamic Media Classicにアップロードして、テンプレートの基礎として使用します。
- 画像レイヤーで構成されるシンプルなマーチャンダイジングの基本テンプレートを作成します。
- テキストレイヤーを追加し、パラメータを使用して変数化させる。
- テンプレート URL を作成し、Web ブラウザーを使用して画像を動的に操作します。

>[!NOTE]
>
>この章の URL はすべて、例としてのみ使用されます。ライブリンクではありません。

## 基本テンプレートの概要

基本テンプレートの定義（つまり、単に「テンプレート」）は、URL アドレス可能なレイヤー画像です。 結果は画像ですが、URL によって変更できる画像です。 Dynamic Media Classic内の PTIFFアセットの組み合わせで、写真、テキスト、グラフィックで構成できます。

テンプレートは、PhotoshopPSDファイルに最も似ています。同様のワークフローと機能を持つからです。

- どちらも、積み重ねられた酢酸塩のシートのような層で構成されます。 部分的に透明な画像を合成して、レイヤーの透明な領域を下のレイヤーに透けて見ることができます。
- レイヤーを移動および回転して、コンテンツの位置を変更したり、不透明度や描画モードを変更して、コンテンツを部分的に透明にしたりできます。
- テキストベースの画層を作成できます。 Image Server はPhotoshopやIllustratorと同じテキストエンジンを使用するので、画質は非常に高くなる場合があります。
- シンプルなレイヤスタイルを各レイヤに適用して、ドロップシャドウやグローなどの特殊な効果を作成できます。

ただし、PhotoshopPSDとは異なり、レイヤーは完全に動的にすることができ、Image Server 上の URL を使用して制御できます。

- すべてのテンプレートプロパティに変数を追加できるので、その場で簡単に構成を変更できます。
- 「パラメーター」と呼ばれる変数を使用すると、変更するテンプレートの部分のみを公開できます。

Photoshopと同様に、すべてのレイヤーを 1 つのファイルに配置して表示/非表示にする代わりに、変更する各レイヤーにプレースホルダーを追加するだけで済みます（必要に応じて追加することもできます）。

プレースホルダを使用すると、レイヤの内容を別のパブリッシュ済みアセットと動的に入れ替えることができ、置き換えられたレイヤの同じプロパティ（サイズや回転など）が自動的に取得されます。

基本テンプレートは通常、Photoshopで設計され、URL を使用してデプロイされるので、テンプレートプロジェクトにはデザインスキルと技術スキルの両方が必要です。 一般に、クリエイティブテンプレートの作業を行う人はPhotoshopのデザイナーで、テンプレートの実装者は Web 開発者であると想定しています。 クリエイティブチームと開発チームは、テンプレートを正常に作成するために緊密に連携する必要があります。

テンプレートプロジェクトは、アプリケーションのビジネスルールやニーズに応じて、比較的単純にしたり、非常に複雑にしたりできます。 基本テンプレートは Image Server から呼び出されますが、Dynamic Media Classic環境は柔軟なので、他のテンプレート内にテンプレートをネストすることもでき、一般的な名前の変数でリンクできる非常に複雑な画像を作成できます。

- 詳細情報： [基本テンプレート](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/template-basics/quick-start-template-basics.html?lang=ja).
- を作成する方法を学ぶ [基本テンプレート](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/template-basics/creating-template.html#creating_a_template).

## 基本テンプレートの作成

基本テンプレートを使用する場合は、通常、次の図に示すワークフロー手順に従います。 ダイナミックテキストレイヤーを使用している場合、点線でマークされたステップはオプションで、以下の手順に「テキストワークフロー」と示されます。 テキストを使用しない場合は、メインパスにのみ従います。

![画像](assets/basic-templates/basic-templates-1.png)

_基本テンプレートワークフロー。_

1. アセットのデザインと作成 ほとんどのユーザーは、Adobe Photoshopでこれをおこないます。 必要なサイズでアセットをデザインします。サムネールページ用の 200 ピクセルの画像の場合は、200 ピクセルでデザインします。 ズームオンが必要な場合は、約 2,000 ピクセルのサイズでデザインします。 Photoshop( またはビットマップとして保存されたIllustrator) を使用してアセットを作成し、Dynamic Media Classicを使用してパーツを組み立て、レイヤーを管理し、変数を追加します。
2. グラフィックアセットをデザインしたら、それらをDynamic Media Classicにアップロードします。 PSDから個々のPSDをアップロードするのではなく、レイヤー化アセットファイル全体をアップロードし、Dynamic Media Classicでレイヤーごとにファイルを作成することをお勧めします。その際には、 **レイヤーを維持** オプションを使用します（詳しくは、以下を参照）。 _テキストワークフロー：ダイナミックテキストを作成する場合は、フォントもアップロードします。 動的テキストは変数で、URL を介して制御します。 テキストが静的であるか、変更しない短いフレーズが少数の場合（例えば、「X% Off」ではなく「New」や「Sale」というタグなど）、X が可変数の場合は、Photoshopでテキストを事前レンダリングし、ラスタライズされたレイヤーとして画像としてアップロードすることをお勧めします。 より簡単で、テキストのスタイルを好きなように設定できます。_
3. ビルドメニューの Template Basics エディターを使用してDynamic Media Classicでテンプレートを作成し、画像レイヤーを追加します。 テキストワークフロー：同じエディターでテキストレイヤーを作成します。 この手順は、Dynamic Media Classicでテンプレートを手動で作成する場合に必要です。 デザインに合ったカンバスサイズを選択し、画像をキャンバスにドラッグ&amp;ドロップし、レイヤーのプロパティ（サイズ、回転、不透明度など）を設定します。 テンプレートにすべての可能なレイヤーを配置するわけではありません。画像レイヤーごとに 1 つのプレースホルダーのみを配置します。 _テキストワークフロー：テキストレイヤーは、Photoshopでのテキストレイヤーの作成と同様に、テキストツールを使用して作成します。 フォントを選択し、Photoshopの文字ツールと同じオプションを使用してスタイルを設定できます。_ もう 1 つのワークフローは、PSDをアップロードし、Dynamic Media Classicに「無料」テンプレートを生成させて、テキストレイヤーを再作成させることです。 これについては、後で詳しく説明します。
4. レイヤーを作成したら、URL を通じて制御したいレイヤーの任意のプロパティに、レイヤーのソース（画像自体）を含むパラメーター（変数）を追加します。 _テキストワークフロー：テキストレイヤーにパラメーターを追加して、テキストの内容、レイヤー自体のサイズと位置、およびフォントカラー、フォントサイズ、横置きなどのすべての書式設定オプションを制御することもできます。_
5. テンプレートのサイズに合う画像プリセットを作成します。 この場合、テンプレートは常に 1 対 1 のサイズで呼び出されるようにし、また、テンプレートに合わせてサイズ変更される大きな画像レイヤーにシャープを追加することをお勧めします。 ズームするテンプレートを作成する場合、この手順は不要です。
6. Dynamic Media Classicプレビューから URL を公開、コピーし、ブラウザーでテストします。

## テンプレートアセットの準備とDynamic Media Classicへのアップロード

テンプレートアセットをDynamic Media Classicにアップロードする前に、いくつかの手順を完了する必要があります。

### アップロード用のPSDの準備

PhotoshopファイルをDynamic Media Classicにアップロードする前に、Photoshopでレイヤーを簡素化して、の操作が容易になり、Image Server との互換性を最大限に高めます。 PSDファイルは、多くの場合、Dynamic Media Classicが認識できない多くの要素で構成され、管理が困難な小さな要素が多数生じる場合もあります。 後でオリジナルを編集する必要がある場合は、マスターPSDのバックアップを保存してください。 シンプル化されたコピーをアップロードします。マスターはアップロードしません。

![画像](assets/basic-templates/basic-templates-2.jpg)

1. 1 つのレイヤーにオン/オフする必要のある関連レイヤーをマージ/フラット化することで、レイヤー構造を簡素化します。 例えば、「NEW」というラベルと青いバナーが 1 つのレイヤーに結合され、1 回のクリックで表示/非表示を切り替えることができます。
   ![画像](assets/basic-templates/basic-templates-3.jpg)
2. 一部のレイヤータイプとレイヤー効果は、Dynamic Media Classicまたは Image Server ではサポートされていないので、アップロードの前にラスタライズする必要があります。 そうしないと、効果が無視されたり、レイヤが破棄されたりする場合があります。 レイヤーをラスタライズすると、が編集可能から編集不可に変換されます。 レイヤー効果またはテキストレイヤーをラスタライズするには、空のレイヤーを作成し、両方を選択して、 **レイヤー > レイヤーのマージ** または Ctrl + E/Cmd + E。

   - Dynamic Media Classicは画層をグループ化またはリンクできません。 グループまたはリンクセット内のすべての画層は、グループ化/リンクされなくなった別の画層に変換されます。
   - レイヤーマスクはアップロード時に透明度に変換されます。
   - 調整レイヤーはサポートされず、破棄されます。
   - 塗りつぶしレイヤー（べた塗りレイヤーなど）はラスタライズされます。
   - スマートオブジェクトレイヤーとベクトルレイヤーは、アップロード時に通常の画像にラスタライズされ、スマートフィルターが適用されてラスタライズされます。
   - 「テキストを抽出」オプションを使用しない限り、テキストレイヤーもラスタライズされます。詳しくは、以下を参照してください。
   - ほとんどのレイヤー効果は無視され、少数のブレンドモードのみがサポートされます。 不確かな場合は、Dynamic Media Classicでシンプルな効果（内側またはドロップシャドウ、内側または外側のグローなど）を追加するか、空白のレイヤーを使用してPhotoshopで効果を統合しラスタライズします。

### フォントの操作

また、ダイナミックテキストを生成する必要がある場合は、フォントをアップロードして公開します。 Dynamic Media Classicに含まれる唯一のフォントは Arial です。

Web 上でフォントを使用するライセンスを取得する責任は、各企業にあります。単にコンピュータにフォントをインストールしても、Web 上でフォントを使用する権利は与えられず、許可なく使用すると、会社は Font Publisher の法的措置を受けます。 また、ライセンス条件は異なります。例えば、印刷用と画面用に別々のライセンスが必要になる場合があります。

Dynamic Media Classicは、標準OpenType(OTF)、TrueType(TTF) および Type 1 Postscript フォントをサポートしています。 Macのみのスーツケースフォント、タイプコレクションファイル、Windows のシステムフォント、独自のマシンフォント（彫刻や刺繍機械で使用されるフォントなど）は、すべてサポートされていません。

他のアセットと同様に、フォントがDynamic Media Classicにアップロードされた後は、Image Server にも公開する必要があります。 テンプレートの非常に一般的なエラーは、フォントを公開するのを忘れることです。その結果、画像エラーが発生します。Image Server は、別のフォントを置き換えません。 また、 **テキストを抽出** 「 」オプションを使用してフォントをアップロードする場合は、アップロード前にPSDファイルをアップロードする必要があります。 この **テキストを抽出** 機能では、テキストを編集可能なテキストレイヤーとして再作成し、Dynamic Media Classicテンプレート内に配置しようとします。 これについては、次のトピック「PSD・オプション」で説明します。

フォントには複数の内部名があり、多くの場合、外部ファイル名とは異なることに注意してください。 Dynamic Media Classicで、そのアセットの詳細ページに様々な名前が表示されます。 Dynamic Media Classicの「メタデータ」タブに表示される、Adobe Caslon Pro Semibold フォントの名前を次に示します。

![画像](assets/basic-templates/basic-templates-4.jpg)

_Dynamic Media Classicのフォントの詳細ページの「メタデータ」タブ_

Dynamic Media Classicでは、このフォントのファイル名 (ACaslonPro-Semibold) がアセット ID として使用されますが、これはテンプレートで使用される名前ではありません。 このテンプレートは、下部に表示されるリッチテキストフォーマット (RTF) 名を使用します。 RTF は、Image Server のテキストエンジンのネイティブな「言語」です。

URL 経由でフォントを変更する必要がある場合は、（アセット ID ではなく）フォントの RTF 名を呼び出す必要があります。そうしないと、エラーが発生します。 この場合、このフォントの適切な名前は「Adobe Caslon Pro」になります。 フォントと RTF については、以下の「RTF とテキストパラメータ」のトピックで詳しく説明します。

Windows およびMacシステムで見られる最も一般的なフォントファイル形式は、OpenTypeと TrueType です。 OpenTypeの拡張子は.OTF ですが、TrueTypeは.TTF です。 どちらの形式も、Dynamic Media Classicでも同様に機能します。

### オプションのアップロード時のPSD

Photoshopファイル (PSD) をアップロードしてテンプレートを作成する必要はありません。テンプレートは、Dynamic Media Classicの任意の画像アセットから作成できます。 ただし、PSDをアップロードすると、通常は既にレイヤーPSDに配置されるので、オーサリングが容易になります。 さらに、Dynamic Media Classicは、レイヤー化されたPSDをアップロードする際に、テンプレートを自動的に生成します。

- **レイヤーを維持.** これは最も重要なオプションです。 これにより、Dynamic Media ClassicはPhotoshopレイヤーごとに 1 つの画像アセットを作成します。 オフにすると、他のすべてのオプションは無効になり、PSDは統合されて 1 つの画像になります。
- **作成** **テンプレート。** このオプションを選択すると、生成された各種のレイヤーが使用され、それらを組み合わせて自動的にテンプレートが作成されます。 自動生成テンプレートを使用する欠点は、Dynamic Media Classicではすべてのレイヤーを 1 つのファイルに配置するのに対して、レイヤーごとに必要なプレースホルダーは 1 つだけになる点です。 余分なレイヤを削除するのは簡単ですが、レイヤが多数ある場合は再作成する方が簡単です。 新しいテンプレートの名前は必ず変更してください。表示されない場合は、次に同じPSDを再度アップロードするときに上書きされます。
- **テキストを抽出.** これにより、テンプレート内のテキストレイヤーが、アップロードしたPSDを使用して、内のテキストレイヤーとして再作成されます。 この手順は、テキストがPhotoshopのパス上にあり、そのパスをテンプレート内に維持する場合に必要です。 この機能を使用するには、 **テンプレートを作成** 」オプションを使用する場合、抽出したテキストはアップロード時に生成されるテンプレートによってのみ作成できるので、
- **レイヤーを背景サイズに拡大します。** この設定により、各レイヤーのサイズがPSDキャンバス全体と同じになります。 これは、常に固定された位置に保たれる画層で非常に便利です。画像を同じレイヤーに入れ替える場合は、画像を再配置する必要が生じる場合があります。
- **レイヤーの名前.** これにより、Dynamic Media Classicは、レイヤーごとに生成された各アセットに名前を付ける方法を示します。 次のいずれかをお勧めします。 **Photoshop** **およびレイヤー** **名前** またはPhotoshopと **レイヤー** **数値**. どちらのオプションも、名前の最初の部分にPSD名を使用し、最後に画層名または番号を追加します。 例えば、「shirt.psd」という名前のPSDがあり、「front」、「sleeves」、「collar」という名前のレイヤーがある場合、 **Photoshopと** レイヤー **名前** 」オプションを選択した場合、Dynamic Media Classicはアセット ID「shirt_front」、「shirt_sleeves」および「shirt_collar」を生成します。 これらのオプションの 1 つを使用すると、Dynamic Media Classicで名前が一意になるようになります。

## 画像レイヤーを使用したテンプレートの作成

Dynamic Media ClassicではレイヤーPSDからテンプレートを自動的に作成できますが、手動で作成する方法を理解しておく必要があります。 前述のように、Dynamic Media Classicで作成したテンプレートを使用しない場合もあります。

### 基本テンプレート UI

まず、編集インターフェイスについて説明します。

左側の中央には、最終的なテンプレートのプレビューを示す作業領域が表示されます。 右側には [ 画層 ] パネルと [ 画層プロパティ ] パネルがあります。 これらの領域は、最も多くの作業を行っています。

![画像](assets/basic-templates/basic-templates-5.jpg)

_テンプレートの基本ページを作成します。_

- **プレビュー/作業領域。** これがメインウィンドウです。 ここでは、マウスを使用してレイヤーを移動、サイズ変更、回転できます。 画層の輪郭は破線で表示されます。
- **レイヤー。** これは、 Photoshopレイヤーパネルに似ています。 テンプレートにレイヤーを追加すると、ここに表示されます。 レイヤーは上から下に積み重ねられます。レイヤーパネルの上のレイヤーは、リスト内の他のレイヤーの上に表示されます。
- **レイヤのプロパティ** ここでは、数値コントロールを使用して、レイヤーのすべてのプロパティを調整できます。 まず画層を選択し、次にそのプロパティを調整します。
- **合成** **URL。** UI の下部には、複合 URL 領域が表示されます。 この節では説明しませんが、ここでは、テンプレートが一連の画像サービング URL 修飾子として分解されています。 この領域は編集可能です。Image Server のコマンドに詳しい方は、ここでテンプレートを手動で編集できます。 しかし、それも壊すことができます。 Photoshopと同様に、レイヤーの番号は 0 から始まります。 キャンバスはレイヤ 0 で、最初に自分で追加するレイヤはレイヤ 1 です。 描画モードは、レイヤーのピクセルとその下のピクセルとのブレンド方法を決定します。 描画モードを使用して、様々な特殊効果を作成できます。

#### 基本テンプレートエディターの使用

基本テンプレートを開始するためのワークフロー手順を次に示します。

1. Dynamic Media Classicで、に移動します。 **ビルド/テンプレートの基本**. 何も選択していない場合や、テンプレートの最初のレイヤーになる画像を選択して開始する場合があります。
2. サイズを選択し、 **OK**. このサイズは、Photoshopで設計したサイズと一致する必要があります。 テンプレートエディターが読み込まれます。
3. 手順 1 で画像を選択していない場合は、左側のアセットパネルで画像を検索するか参照して、作業領域にドラッグします。

   - 画像はキャンバスのサイズに合わせて自動的にサイズ変更されます。 高TIFF度の画像をスワップアウトする場合は、通常、大きな (2,000 px)P 解像度の画像の 1 つを取り込み、プレースホルダーとして使用します。
   - これはテンプレートの一番下のレイヤーにする必要がありますが、後でレイヤーを並べ替えることもできます。

4. 作業領域で直接、または [ 画層プロパティ ] パネルで設定を調整して、画層のサイズを変更または再配置します。
5. 必要に応じて、追加の画像レイヤーをドラッグします。 必要に応じて、レイヤー効果を追加します。 トピックを見る _レイヤー効果の追加_、下。
6. クリック **保存**、場所を選択し、テンプレートに名前を付けます。 ただし、この時点では、テンプレートは統合されたPhotoshop画像とまったく同じように表示され、変更できません。

### レイヤー効果の追加

Image Server は、いくつかのプログラム的なレイヤー効果をサポートしています。つまり、レイヤーの内容の外観を変更する特殊な効果です。 これらは、Photoshopのレイヤー効果と同様に機能します。 これらは画層にアタッチされますが、画層とは独立して制御されます。 レイヤ自体に恒久的な変更を加えることなく、これらを調整または削除できます。

- **ドロップシャドウ**. x および y ピクセルオフセットで配置された、レイヤーの境界の外側にシャドウを適用します。
- **シャドウ（内側）**. x および y ピクセルオフセットで配置された、レイヤーの境界内にシャドウを適用します。
- **光彩（外側）**. レイヤーのすべてのエッジの周りにグロー効果を均等に適用します。
- **光彩（内側）**. レイヤーのすべてのエッジの内側にグロー効果を均等に適用します。

![画像](assets/basic-templates/basic-templates-6.jpg)

_ドロップシャドウのあるレイヤーとないレイヤー_

効果を追加するには、 **効果を追加**&#x200B;をクリックし、メニューから効果を選択します。 通常のレイヤーと同様に、レイヤーパネルで効果を選択し、レイヤーのプロパティパネルを使用して設定を調整できます。

シャドウ効果は、レイヤーから水平または垂直にオフセットされます。グロー効果は、すべての方向に均等に適用されます。 内側の効果は、レイヤーの不透明部分の上に作用し、外側の効果は透明部分にのみ影響します。

詳細情報：[レイヤー効果の追加](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/template-basics/creating-template.html#using-shadow-and-glow-effects-on-layers).

### パラメーターの追加

レイヤーを組み合わせて保存するだけの場合、最終的な結果は統合されたPhotoshop画像と同じです。 テンプレートには、各レイヤーのプロパティにパラメータを追加し、URL を通じて動的に変更できる機能が特別に用意されています。

Dynamic Media Classicの用語では、パラメーターは、URL を介して操作できるように、テンプレートプロパティにリンクできる変数です。 レイヤーにパラメーターを追加すると、Dynamic Media Classicは、パラメーター名の前にドル記号 ($) を付けて URL 内にそのプロパティを表示します。例えば、「size」というパラメーターを作成してレイヤーのサイズを変更すると、Dynamic Media Classicはパラメーターの名前を$size に変更します。

プロパティにパラメーターを追加しない場合、そのプロパティはDynamic Media Classicデータベースで非表示のままとなり、URL には表示されません。

![画像](assets/basic-templates/parameters.png)

パラメーターがない場合、特に動的テキストを使用している場合、URL は通常、はるかに長くなります。 テキストを使用すると、各 URL に余分な文字が多数追加されます。

最後に、最初のパラメーターセットがテンプレート内のプロパティのデフォルト値になります。 テンプレートを作成し、パラメーターを追加して、パラメーターを指定せずに URL を呼び出した場合、Image Server はテンプレートに保存したすべてのデフォルトを使用して画像を作成します。 パラメーターは、プロパティを変更する場合にのみ必要です。 プロパティを変更する必要がない場合は、パラメーターを設定する必要はありません。

#### パラメーターの作成

次に、パラメーターを作成するワークフローを示します。

1. 次をクリック： **パラメーター** ボタンをクリックします。 「パラメータ」画面が開きます。 画層上の各プロパティとその値が一覧表示されます。
1. を選択します。 **オン** オプションを使用します。 デフォルトのパラメーター名が表示されます。 プロパティに追加できるのは、デフォルトの状態から変更されたパラメータのみです。

   - 例えば、レイヤーを追加し、デフォルトの xy 位置である 0,0 のままにした場合、Dynamic Media Classicは **位置** プロパティ。 固定するには、レイヤーを少なくとも 1 ピクセル移動します。 Dynamic Media Classicが公開されます **位置** プロパティとして、パラメータ化できます。
   - 表示/非表示プロパティにパラメータを追加するには（レイヤーのオン/オフを切り替える）、 **表示** または **レイヤーを非表示** アイコンをクリックして、レイヤをオフに切り替えます（必要に応じて、後でオンに戻すことができます）。 Dynamic Media Classicが公開されます **を隠す** パラメーター化可能なプロパティ。

1. デフォルトのパラメーター名を、URL で識別しやすい名前に変更します。 例えば、画像の上のバナーレイヤーを変更するパラメータを追加する場合、「layer_2_src」のデフォルト名を「banner」に変更します。
1. 押す **閉じる** をクリックして、[ パラメータ ] 画面を終了します。
1. 他の画層に対して、この手順を繰り返すには、 **パラメーター** ボタンをクリックし、パラメータの追加と名前変更を行います。
1. 完了したら変更を保存します。

>[!TIP]
>
>パラメータの名前を意味のある名前に変更し、名前を標準化する命名規則を作成します。 設計チームと開発チームの両方で、あらかじめ命名規則に同意されていることを確認します。
>
>プロパティが表示されないので、パラメーターを追加できませんか？ レイヤーのプロパティをデフォルトのプロパティから変更するだけです（移動、サイズ変更、非表示など）。 これで、そのプロパティが公開されたのがわかります。

詳細情報： [テンプレートパラメーター](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/template-basics/creating-template-parameters.html).

## テキストレイヤーを使用したテンプレートの作成

次に、テキストレイヤーを含む基本テンプレートを作成する方法を学びます。

### ダイナミックテキストについて

これで、画像レイヤーを使用して基本テンプレートを作成する方法がわかりました。 多くのアプリケーションでは、これが必要なすべてです。 前の練習で見たように、単純なテキスト（「Sale」や「New」など）を持つレイヤーは、テキストを変更する必要がないので、ラスタライズして画像として扱うことができます。

ただし、次の操作が必要な場合はどうすればよいですか。

- 値が 25%の変数を持つ「25%オフ」というラベルを追加します
- 画像の上に製品名を付けるテキストラベルを追加します
- テンプレートが表示される国に応じて、レイヤーを異なる言語にローカライズする

この場合、テキストや書式を制御するためのパラメーターを含むダイナミックテキストレイヤーを追加します。

テキストを作成するには、いくつかのフォントをアップロードする必要があります。アップロードしない場合、Dynamic Media Classicはデフォルトで Arial に設定されます。 フォントも Image Server に公開する必要があります。公開しないと、そのフォントを使用するテキストのレンダリングが試行されるたびにエラーが発生します。

### RTF およびテキストパラメータ

基本テンプレートツールを使用してテキストに変数を追加するには、テキストのレンダリング方法を理解する必要があります。 Image Server は、PhotoshopとIllustratorが使用するのと同じAdobeである「エンジンテキストエンジン」を使用してテキストを生成し、最終的な画像のレイヤーとして合成します。 Image Server は、エンジンと通信するために、リッチテキスト形式 (RTF) を使用します。

RTF は、Microsoftが開発したファイル形式仕様で、ドキュメントの書式を指定します。 これは、ほとんどのワードプロセッシングと電子メールソフトウェアで使用される標準のマークアップ言語です。 URL に&amp;text=\b1 Hello と書き込むと、\b1 はテキストを太字にする RTF コマンドなので、Image Server は「Hello」という単語を太字で画像を生成します。

良い知らせは、Dynamic Media Classicが RTF を生成することです。 テンプレートにテキストを入力して書式を追加する場合、Dynamic Media Classicは RTF コードを自動的にテンプレートに書き込みます。 これを言及する理由は、RTF 自体に直接パラメータを追加するからです。

#### テキストレイヤーの作成

Dynamic Media Classicのテンプレート内にテキストレイヤーを作成するには、次の 2 つの方法があります。

1. Dynamic Media Classicのテキストツール。 以下では、この方法について説明します。 テンプレートの基本エディターには、テキストボックスの作成、テキストの入力、テキストの書式設定をおこなえるツールが用意されています。 Dynamic Media Classicは、必要に応じて RTF を生成し、別のレイヤーに配置します。
2. テキストを抽出（アップロード時） もう 1 つの方法は、Photoshopでテキストレイヤーを作成し、（画像レイヤーとしてラスタライズするのではなく）通常のテキストレイヤーとしてPSDに保存することです。 その後、ファイルをDynamic Media Classicにアップロードし、 **テキストを抽出** オプション。 Dynamic Media Classicは、RTF コマンドを使用して、各Photoshopテキストレイヤーを画像サービングテキストレイヤーに変換します。 この方法を使用する場合は、最初にフォントをDynamic Media Classicにアップロードしてください。使用しない場合、Dynamic Media Classicはアップロード時にデフォルトのフォントを置き換え、正しいフォントを簡単に置き換えることはできません。

### テキストエディター

テキストを入力するには、テキストエディタを使用します。 テキストエディターは、PhotoshopやIllustratorと同様の書式設定コントロールを使用して、テキストの入力や書式設定をおこなうことができる WYSIWYG インターフェイスです。

![画像](assets/basic-templates/basic-templates-9.jpg)

_「基本テンプレート」の「テキストエディタ」をクリックします。_

ほとんどの作業は **プレビュー** タブをクリックします。このタブでは、テキストを入力し、テンプレート内での表示と同じように表示することができます。 また、 **ソース** タブに追加します。このタブは、必要に応じて、RTF を手動で編集するために使用します。

一般的なワークフローは、 **プレビュー** タブをクリックして、テキストを入力します。

次に、テキストを選択し、上部のコントロールを使用して、フォントの色、フォントサイズ、位置合わせなどの書式を選択します。 文字のスタイルを設定したら、 **適用** 更新されたのを作業領域のプレビューで確認するには、次の手順を実行します。 次に、テキストエディタを閉じて、基本テンプレートのメインウィンドウに戻ります。

#### テキストエディターの使用

次に、テンプレートの基本ビルドページ内にテキストを追加するワークフロー手順を示します。

1. 次をクリック： **テキスト** ツールボタンを使用して、ビルドページの上部に表示されます。
2. テキストを表示するテキストボックスをドラッグします。 テキストエディターウィンドウがモーダルウィンドウで開きます。 バックグラウンドでは、テンプレートが表示されますが、テキストの編集が終了するまで編集できません。
3. テンプレートが最初に読み込まれるときに表示するサンプルテキストを入力します。 例えば、パーソナライズされた電子メール画像用のテキストボックスを作成する場合、「こんにちは、名前」というテキストが表示されます。 今こそ救う時だ！」 後で、Name を URL で送信する値に置き換えるためのテキストパラメーターを追加します。 テキストは、 **適用**.
4. テキストを書式設定するには、マウスでドラッグして選択し、UI で書式設定コントロールを選択します。

   - 書式設定オプションは多数あります。 最も一般的なものは、フォント（面）、フォントサイズ、フォントカラー、および左/中央/右揃えです。
   - 最初にテキストを選択することを忘れないでください。 書式設定を適用できません。
   - 別のフォントを選択する場合は、必ずテキストを選択し、フォントメニューを開いてください。 Dynamic Media Classicにアップロードされたすべてのフォントのリストがエディターに表示されます。 お使いのコンピューターにフォントもインストールされている場合は、黒で表示されます。 お使いのコンピューターにインストールされていない場合は、赤で表示されます。 ただし、「 **適用**. フォントをDynamic Media Classicを使用するすべてのユーザーが使用できるようにするには、Dynamic Media Classicにフォントをアップロードするだけで済みます。 公開すると、Image Server はこれらのフォントを使用してテキストを生成します。ユーザーは、作成したテキストを表示するためにフォントをインストールする必要はありません。画像の一部であるからです。
   - PhotoshopやIllustratorとは異なり、Image Server はテキストボックス内でテキストを垂直方向に揃えることができます。 デフォルトは上揃えです。 これを変更するには、テキストを選択し、 **中央** または **下** から **垂直方向揃え** メニュー
   - テキストをボックスに対して大きすぎる（またはテキストボックスが小さすぎる）場合、テキストの全部または一部が切り取られて非表示になります。 フォントサイズを小さくするか、ボックスを大きくします。

5. クリック **適用** をクリックして、変更が作業領域ウィンドウに反映されることを確認します。 次をクリックする必要があります。 **適用**&#x200B;または編集内容が失われる場合は、
6. 完了したら、「 **閉じる**. 編集モードに戻る場合は、テキストレイヤーをダブルクリックして、テキストエディタを再度開きます。

フォントがシステム上にローカルにインストールされている場合、テキストエディターではフォントの大きさが正確にプレビューされます。

### テキストレイヤーへのパラメータの追加について

ここでは、レイヤパラメータと同様に、テキストパラメータを追加する手順に従います。 テキストレイヤーは、サイズや位置などのレイヤーパラメータを取ることもできます。ただし、追加のパラメータを取得して、RTF のあらゆる側面を制御できます。

レイヤーパラメータとは異なり、変更する値を選択し、プロパティ全体にパラメータを追加するのではなく、その値にパラメータを追加するだけです。

![画像](assets/basic-templates/basic-templates-10.jpg)

サンプル RTF:

![画像](assets/basic-templates/sample-rtf.png)

RTF を調べる際には、各設定を変更したい場所を見つけ出す必要があります。 上記の RTF では、いくつかの意味を持つ場合があり、書式設定の元の場所を確認できます。

「チョコレートミントサンダル」という言葉が見えます

- Poor Richard というフォントへの参照があります。ここでフォントが選択されます。
- 次のRGB値が表示されます。\red56\green53\blue4  — これはテキストの色です。
- 20 のフォントサイズですが、20 の数字は表示されません。 しかし、\fs40 というコマンドが表示されます。何か奇妙な理由で、RTF はフォントをハーフポイントとして測定します。 したがって、\fs40 はフォントサイズです。

パラメータを作成するのに十分な情報がありますが、画像サービングのドキュメントには、すべての RTF コマンドの完全な参照が記載されています。 次にアクセス： [画像サービングドキュメント](https://experienceleague.adobe.com/docs/dynamic-media-developer-resources/image-serving-api/image-serving-api/http-protocol-reference/text-formatting/c-text-formatting.html#concept-0d3136db7f6f49668274541cd4b6364c).

#### テキストレイヤーにパラメータを追加する

次に、テキストレイヤーにパラメータを追加する手順を示します。

1. 次をクリック： **パラメーター** ボタン (「P」) をクリックします。 「パラメータ」画面が開きます。 この **共通** 「 」タブには、画層上の各プロパティとその値が表示されます。 ここで、通常のレイヤーパラメータを追加できます。
1. をクリックします。 **テキスト** タブをクリックします。 ここでは、上部に RTF が表示されます。追加したパラメータは、その下にあります。
1. パラメータを追加するには、まず変更する値をハイライト表示し、 **パラメータを追加** 」ボタンをクリックします。 必ずコマンドの値だけを選択し、コマンド自体は選択しないでください。 例えば、上記のサンプル RTF でフォント名のパラメータを設定する場合、「Poor Richard」をハイライト表示し、それにパラメータを追加するだけで、「\f0」を追加するわけではありません。 クリック時 **パラメータを追加** を選択した場合、下のリストに表示され、RTF ではパラメータ値が赤で表示されます。 パラメーターを削除する必要がある場合は、 **オン** をオフにすると、そのパラメータは消えます。
1. 「 」をクリックして、パラメーターの名前をわかりやすい名前に変更します。
1. 完了すると、RTF は、パラメータが存在する緑色でハイライト表示され、パラメータ名と値は次のように表示されます。
1. クリック **閉じる** をクリックして、[ パラメータ ] 画面を終了します。 次に、 **保存** 、をクリックしてテンプレートを保存します。 編集が終了したら、 **閉じる** をクリックして、「基本テンプレート」ページを終了します。
1. クリック **プレビュー** をクリックして、Dynamic Media Classicでテンプレートをテストします。 テキストパラメーターをテストするには、プレビューウィンドウに新しいテキストまたは新しい値を入力します。 フォントを変更するには、フォントの正確な RTF 名を入力する必要があります。

>[!TIP]
>
>テキストの色にパラメータを追加するには、赤、緑、青のパラメータを別途追加します。 例えば、RTF が `\red56\green53\blue46`の場合は、56、53、46 の値に別々の赤、緑、青のパラメーターを追加します。 URL 内で、次の 3 つすべてを呼び出して、色を変更します。 `&$red=56&$green=53&$blue=46`.

方法を学ぶ [ダイナミックテキストパラメータの作成](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/template-basics/creating-template-parameters.html#creating-dynamic-text-parameters).

## テンプレート URL の公開と作成

### 画像プリセットの作成

テンプレートのプリセットの作成は必須の手順ではありません。 テンプレートは常に 1 対 1 のサイズで呼び出すことと、テンプレートに合わせてサイズ変更される大きな画像レイヤーにシャープを追加することをお勧めします。 プリセットを指定せずに画像を呼び出した場合、Image Server は任意に画像のサイズをデフォルトサイズ（約 400 ピクセル）に変更し、デフォルトのシャープニングを適用しない場合があります。

テンプレートの画像プリセットに関する特別な事項はありません。 同じサイズの静的画像のプリセットが既に存在する場合は、代わりにそのプリセットを使用できます。

### パブリッシュ

Image Server にプッシュされた変更を確認するには、公開を実行する必要があります。 公開する必要がある事項に注意してください。様々な画像アセットレイヤー、ダイナミックテキストのフォント、テンプレート自体。 基本テンプレートは、画像セットやスピンセットなど、他のDynamic Media Classicのリッチメディアアセットと同様に人工的な構成です。これは、一連の画像サービングコマンドを使用して画像とフォントを参照する、データベース内の行項目です。 テンプレートを公開する際には、Image Server 上のデータを更新するだけです。

詳細情報： [テンプレートのパブリッシュ](https://experienceleague.adobe.com/docs/dynamic-media-classic/using/template-basics/publishing-templates.html).

### テンプレート URL の構成

基本テンプレートの URL 構文は、前述の通常の画像呼び出しと同じです。 テンプレートには、値を持つパラメータなど、通常、より多くの修飾子 ( アンパサンド (&amp;) で区切られたコマンド ) が含まれます。 ただし、主な違いは、静的な画像に対してを呼び出すのではなく、をメイン画像としてテンプレートに呼び出すことです。

![画像](assets/basic-templates/basic-templates-11.jpg)

プリセット名の両側にドル記号 ($) が付いた画像プリセットとは異なり、パラメーターの先頭には 1 つのドル記号が付きます。 これらのドル記号の配置は重要です。

**正解**

`$text=46-inch LCD HDTV`

**不正解**

`$text$=46-inch LCD HDTV`

`$text=46-inch LCD HDTV$`

`text=46-inch LCD HDTV`

前述のように、パラメータはテンプレートを変更するために使用されます。 パラメーターを指定せずにテンプレートを呼び出すと、Template Basics オーサリングツールで設計されたデフォルト設定に戻ります。 プロパティを変更する必要がない場合は、パラメーターを設定する必要はありません。

![画像](assets/basic-templates/sandals-without-with-parameters.png)
_パラメーターを設定しない（上記）テンプレートとパラメーターを設定する（下記）テンプレートの例。_
