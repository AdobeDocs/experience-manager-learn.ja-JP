---
title: コンテンツフラグメントのオーサリング — AEMヘッドレス — GraphQL
description: Adobe Experience Manager(AEM)とGraphQLの使い始めに コンテンツフラグメントモデルに基づいて、新しいコンテンツフラグメントを作成および編集します。 コンテンツフラグメントのバリエーションを作成する方法を説明します。
sub-product: アセット
topics: headless
version: cloud-service
doc-type: tutorial
activity: develop
audience: developer
mini-toc-levels: 1
kt: 6713
thumbnail: 22451.jpg
translation-type: tm+mt
source-git-commit: 8c5b425e6dcf23cbef042097f17db9e51bdf63c9
workflow-type: tm+mt
source-wordcount: '785'
ht-degree: 3%

---


# オーサリングコンテンツフラグメント{#authoring-content-fragments}

この章では、新しく定義した寄稿者コンテンツフラグメントモデル](./content-fragment-models.md)に基づいて、新しいコンテンツフラグメントを作成および編集します。 [また、コンテンツフラグメントのバリエーションを作成する方法も学習します。

## 前提条件 {#prerequisites}

これはマルチパートのチュートリアルで、[コンテンツフラグメントモデルの定義](./content-fragment-models.md)で概要を説明している手順が完了していることを前提としています。

## 目的 {#objectives}

* コンテンツフラグメントモデルに基づくコンテンツフラグメントの作成
* コンテンツフラグメントのバリエーションの作成

## コンテンツフラグメントオーサリングの概要{#overview}

>[!VIDEO](https://video.tv.adobe.com/v/22451/?quality=12&learn=on)

上記のビデオでは、コンテンツフラグメントの作成に関する概要を説明しています。

## コンテンツフラグメントの作成{#create-content-fragment}

前の章「[コンテンツフラグメントモデルの定義](./content-fragment-models.md)」では、**寄稿者**&#x200B;モデルが作成されました。 このモデルを使用して新しいコンテンツフラグメントを作成します。

1. **AEM開始**&#x200B;メニューで、**アセット** > **ファイル**&#x200B;に移動します。
1. フォルダーをクリックして、**WKNDサイト** > **英語** > **寄稿者**&#x200B;に移動します。 このフォルダーには、WKNDブランドの寄稿者向けのヘッドショットのリストが含まれています。

1. 右上の「**作成**」をクリックし、「**コンテンツフラグメント**」を選択します。

   ![「新しいフラグメントを作成」をクリックします](assets/author-content-fragments/create-content-fragment-menu.png)

1. **寄稿者**&#x200B;モデルを選択し、「**次へ**」をクリックします。

   ![寄稿者モデルの選択](assets/author-content-fragments/select-contributor-model.png)

   これは、前の章で作成された&#x200B;**寄稿者**&#x200B;モデルと同じです。

1. タイトルに「**Stacey Roswells**」と入力し、「**作成**」をクリックします。
1. **成功**&#x200B;ダイアログの&#x200B;**開く**&#x200B;をクリックして、新しく作成したフラグメントを開きます。

   ![新しいコンテンツフラグメントが作成されました](assets/author-content-fragments/new-content-fragment.png)

   モデルによって定義されたフィールドが、コンテンツフラグメントのこのインスタンスの作成に使用できることを確認します。

1. **フルネーム**&#x200B;に対して、次を入力します。**Stacey Roswells**。
1. **伝記**&#x200B;に短い伝記を入力します。 何かインスピレーションが必要？ この[テキストファイル](assets/author-content-fragments/stacey-roswells-bio.txt)を自由に使用してください。
1. **画像参照**&#x200B;の場合は、**フォルダー**&#x200B;アイコンをクリックし、**WKNDサイト****英語** > **寄稿者** > **stacey-roswells.jpg**. これは次のパスに評価されます。`/content/dam/wknd/en/contributors/stacey-roswells.jpg`.
1. **占有**&#x200B;は&#x200B;**写真家**&#x200B;を選びます。

   ![作成済みフラグメント](assets/author-content-fragments/stacye-roswell-fragment-authored.png)

1. 「**保存**」をクリックして、変更を保存します。

## コンテンツフラグメントのバリエーションの作成

**マスター**&#x200B;のバリエーションを持つすべてのコンテンツフラグメント開始。 **マスター**&#x200B;のバリエーションは、フラグメントの&#x200B;*デフォルト*&#x200B;コンテンツと見なすことができ、GraphQL APIを介してコンテンツが公開されると自動的に使用されます。 コンテンツフラグメントのバリエーションを作成することもできます。 この機能では、導入を柔軟に設計できるオファーがあります。

バリエーションは、特定のチャネルをターゲットするために使用できます。 例えば、少ないテキストを含む&#x200B;**mobile**&#x200B;バリエーションや、チャネル固有の画像を参照するバリエーションを作成できます。 バリエーションの使用方法は、実装次第です。 他の機能と同様に、を使用する前に入念な計画を行う必要があります。

次に、新しいバリエーションを作成して、利用可能な機能を把握します。

1. **Stacey Roswells**&#x200B;のコンテンツフラグメントを再度開きます。
1. 左側のレールで、「**バリエーションを作成**」をクリックします。
1. **新しいバリエーション**&#x200B;モーダルに、**概要**&#x200B;のタイトルを入力します。

   ![新しいバリエーション — 概要](assets/author-content-fragments/new-variation-summary.png)

1. 「**伝記**」複数行フィールドをクリックし、「**展開**」ボタンをクリックして、複数行フィールドのフルスクリーン表示を入力します。

   ![フルスクリーン表示を開始](assets/author-content-fragments/enter-full-screen-view.png)

1. 右上のメニューで[**要約テキスト**]をクリックします。

1. **50**&#x200B;語の&#x200B;**ターゲット**&#x200B;を入力し、**開始**&#x200B;をクリックします。

   ![要約プレビュー](assets/author-content-fragments/summarize-text-preview.png)

   これにより、要約プレビューが開きます。 AEMマシン言語プロセッサは、ターゲットの単語数に基づいてテキストの要約を試みます。 削除する別のセンテンスを選択することもできます。

1. 要約に満足したら、「**要約**」をクリックします。 複数行のテキストフィールド内をクリックし、「**展開**」ボタンを切り替えて、メイン表示に戻ります。

1. 「**保存**」をクリックして、変更を保存します。

## 追加のコンテンツフラグメントの作成

[コンテンツフラグメントの作成](#create-content-fragment)で説明されている手順を繰り返して、追加の&#x200B;**寄稿者**&#x200B;を作成します。 これは、次の章で、複数のフラグメントをクエリする方法の例として使用します。

1. **寄稿者**&#x200B;フォルダーで、右上の「**作成**」をクリックし、「**コンテンツフラグメント**」を選択します。
1. **寄稿者**&#x200B;モデルを選択し、「**次へ**」をクリックします。
1. タイトルに&#x200B;**Jacob Wester**&#x200B;と入力し、**作成**&#x200B;をクリックします。
1. **成功**&#x200B;ダイアログの&#x200B;**開く**&#x200B;をクリックして、新しく作成したフラグメントを開きます。
1. **フルネーム**&#x200B;に対して、次を入力します。**ジェイコブ・ウェスター**。
1. **伝記**&#x200B;に短い伝記を入力します。 何かインスピレーションが必要？ この[テキストファイル](assets/author-content-fragments/jacob-wester.txt)を自由に使用してください。
1. **画像参照**&#x200B;の場合は、**フォルダー**&#x200B;アイコンをクリックし、**WKNDサイト****英語** > **寄稿者** > **jacob_wester.jpg&lt;a1/を参照します。.**&#x200B;これは次のパスに評価されます。`/content/dam/wknd/en/contributors/jacob_wester.jpg`.
1. **占有**&#x200B;には&#x200B;**ライター**&#x200B;を選びます。
1. 「**保存**」をクリックして、変更を保存します。必要がない限り、バリエーションを作成する必要はありません。

   ![追加のコンテンツフラグメント](assets/author-content-fragments/additional-content-fragment.png)

   これで、2つの&#x200B;**寄稿者**&#x200B;フラグメントが作成されます。

## バリデーターが{#congratulations}

これは、複数のコンテンツフラグメントを作成し、バリエーションを作成しただけです。

## 次の手順 {#next-steps}

次の章「[GraphQL APIを探索](explore-graphql-api.md)」では、組み込みのGraphQLツールを使用してAEM GraphQL APIを調べます。 コンテンツフラグメントモデルに基づいてAEMがGraphQLスキーマを自動的に生成する方法を説明します。 GraphQL構文を使用して、基本的なクエリを作成してみます。