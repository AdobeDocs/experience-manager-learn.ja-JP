---
title: コンテンツフラグメントモデルの作成 | AEM ヘッドレス OpenAPI パート 1
description: Adobe Experience Manager（AEM）と OpenAPI の概要 AEM でコンテンツフラグメントモデルを使用してコンテンツをモデル化し、スキーマを構築する方法について説明します。既存のモデルを確認し、モデルを作成します。スキーマの定義に使用できる様々なデータタイプについて説明します。
version: Experience Manager as a Cloud Service
mini-toc-levels: 1
jira: KT-6712
thumbnail: 22452.jpg
feature: Content Fragments
topic: Headless, Content Management
role: Developer
level: Beginner
duration: 430
source-git-commit: c6213dd318ec4865375c57143af40dbe3f3990b1
workflow-type: tm+mt
source-wordcount: '930'
ht-degree: 42%

---

# コンテンツフラグメントモデルの定義

この章では、**コンテンツフラグメントモデル** を使用してコンテンツをモデル化し、スキーマを構築する方法と、コンテンツフラグメントモデルを定義する様々なデータタイプについて説明します。

このチュートリアルでは、**チーム** と **人物** という 2 つのシンプルなモデルを作成します。 **チーム**&#x200B;データモデルには、名前、短い名前、説明が付けられており、姓名、プロフィールの詳細、プロファイルの画像、職業のリストを含む&#x200B;**人物**&#x200B;データモデルを参照します。

## 目的

* コンテンツフラグメントモデルを作成します。
* モデルの構築に使用できるデータタイプと検証オプションについて説明します。
* コンテンツフラグメントモデルが、コンテンツフラグメントのデータスキーマとオーサリングテンプレートの両方を **定義** する方法を理解します。

## プロジェクト設定の作成

プロジェクト設定には、特定のプロジェクトに関連付けられたすべてのコンテンツフラグメントモデルが含まれており、モデルを整理する手段を提供します。 コンテンツフラグメントモデルを作成する **前** プロジェクトを少なくとも 1 つ作成します。

1. AEM **オーサー** 環境にログインします（例：`https://author-p<PROGRAM_ID>-e<ENVIRONMENT_ID>.adobeaemcloud.com/`）。
1. AEM 開始画面から、**ツール**／**一般**／**設定ブラウザー**&#x200B;に移動します。
1. 上部のアクションバーで「**作成**」をクリックし、次の設定の詳細を入力します。
   * タイトル：**マイプロジェクト**
   * 名前：**my-project**
   * コンテンツフラグメントモデル：**オン**

   ![マイプロジェクトの設定](assets/1/create-configuration.png)

1. 「**作成**」を選択して、プロジェクト設定を作成します。

## コンテンツフラグメントモデルを作成する

次に、**チーム** および **人物** のコンテンツフラグメントモデルを作成します。 これらは、チームおよびチームの一員を表すデータモデル（スキーマ）として機能し、作成者がこれらのモデルに基づいてコンテンツフラグメントを作成および編集するためのインターフェイスを定義します。

### Person コンテンツフラグメントモデルの作成

**ユーザー** 用のコンテンツフラグメントモデルを作成します。これは、チームの一員である個人を表すデータモデルまたはスキーマです。

1. AEM 開始画面から、**ツール**／**一般**／**コンテンツフラグメントモデル**&#x200B;に移動します。
1. **マイプロジェクト**&#x200B;フォルダーに移動します。
1. 右上隅にある **作成** を選択して、**モデルを作成** ウィザードを表示します。
1. 次のプロパティを持つコンテンツフラグメントモデルを作成します。

   * モデルタイトル：**人物**
   * モデルを有効にする：**オン**

   「**作成**」を選択します。表示されたダイアログで、「**開く**」を選択してモデルを作成します。

1. **1 行のテキスト**&#x200B;要素をメインパネルにドラッグ＆ドロップします。「**プロパティ**」タブで次のプロパティを入力します。

   * フィールドラベル：**フルネーム**
   * プロパティ名：`fullName`
   * 「**必須**」にチェックを入れます

   **プロパティ名** は、作成した値がAEMに保存されるプロパティの名前を定義します。 **プロパティ名** では、データスキーマの一部としてこのプロパティの **キー** 名前も定義され、AEM OpenAPI を使用してコンテンツフラグメントが配信される際に JSON 応答のキーとして使用されます。

1. 「**データタイプ**」タブを選択し、「**複数行テキスト**」フィールドを「**フルネーム**」フィールドの下にドラッグ&amp;ドロップします。 次のプロパティを入力します。

   * フィールドラベル：**略歴**
   * プロパティ名：`biographyText`
   * デフォルトのタイプ：**リッチテキスト**

1. 「**データタイプ**」タブをクリックして、「**コンテンツ参照**」フィールドをドラッグ＆ドロップ します。次のプロパティを入力します。

   * フィールドラベル：**プロファイル画像**
   * プロパティ名：`profilePicture`
   * ルートパス：`/content/dam`

     **ルートパス**&#x200B;を設定する際に、**フォルダー**&#x200B;アイコンをクリックしてモーダルを表示し、パスを選択できます。 これにより、作成者がパスへの入力に使用できるフォルダーが制限されます。 `/content/dam` は、すべての AEM Assets（画像、ビデオ、その他のコンテンツフラグメント）が保存されるルートです。

   * 特定のコンテンツタイプのみを許可：**画像**

     **画像参照**&#x200B;に検証を追加して、**画像**&#x200B;コンテンツタイプのみをフィールドの入力に使用できるようにします。

   * サムネールを表示：**オン**

1. 「**データタイプ**」タブをクリックし、**列挙**&#x200B;データタイプを「**画像参照**」フィールドの下にドラッグ＆ドロップします。次のプロパティを入力します。

   * レンダリング形式：**チェックボックス**
   * フィールドラベル：**職業**
   * プロパティ名：`occupation`
   * オプション :
      * **アーティスト**
      * **インフルエンサー**
      * **フォトグラファー**
      * **旅行者**
      * **Writer**
      * **YouTuber**

   オプション ラベルと値の両方を同じ値に設定します。

1. 最終的な&#x200B;**人物**&#x200B;モデルは次のようになります。

   ![Person コンテンツフラグメントモデル ](assets/1/person-content-fragment-model.png)

1. 「**保存**」をクリックして、変更を保存します。

### Team コンテンツフラグメントモデルの作成

**チーム** 用のコンテンツフラグメントモデルを作成します。これは、人物のチームのデータモデルです。 チーム モデルは、チームのメンバーを表す Person コンテンツフラグメントを参照します。

1. **マイプロジェクト** フォルダーの右上隅にある **作成** を選択して、**モデルを作成** ウィザードを表示します。
1. **モデルタイトル** フィールドに **チーム** と入力して **作成** を選択します。

   表示されたダイアログで **開く** を選択して、新しく作成したモデルを開きます。

1. **1 行のテキスト**&#x200B;要素をメインパネルにドラッグ＆ドロップします。「**プロパティ**」タブで次のプロパティを入力します。

   * フィールドラベル：**タイトル**
   * プロパティ名：`title`
   * 「**必須**」にチェックを入れます

1. 「**データタイプ**」タブを選択し、「**複数行テキスト**」フィールドを「**短縮名**」フィールドの下にドラッグ&amp;ドロップします。 次のプロパティを入力します。

   * フィールドラベル：**説明**
   * プロパティ名：`description`
   * デフォルトのタイプ：**リッチテキスト**

1. 「**データタイプ**」タブをタップし、「**フラグメント参照**」フィールドをドラッグ＆ドロップします。次のプロパティを入力します。

   * レンダリング形式：**複数フィールド**
   * 最小項目数：**2**
   * フィールドラベル：**チームメンバー**
   * プロパティ名：`teamMembers`
   * 許可されているコンテンツフラグメントモデル：フォルダーアイコンを使用して、**Person** モデルを選択します。

1. 最終&#x200B;**チーム**&#x200B;モデルは次のようになります。

   ![ 最終チームコンテンツフラグメントモデル ](assets/1/team-content-fragment-model.png)

1. 「**保存**」をクリックして、変更を保存します。

1. これで、2 つのモデルを使用できるようになります。

   ![2 つのコンテンツフラグメントモデル ](assets/1/two-content-fragment-models.png)

## これで完了です。

これで、最初のコンテンツフラグメントモデルが作成されました。

## 次の手順

次の章、[コンテンツフラグメントモデルのオーサリング](2-author-content-fragments.md)では、コンテンツフラグメントモデルに基づいて新しいコンテンツフラグメントを作成し、編集します。また、コンテンツフラグメントのバリエーションを作成する方法についても説明します。

## 関連ドキュメント

* [コンテンツフラグメントモデル](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/assets/content-fragments/content-fragments-models.html?lang=ja)

